#-------------------------------------------------------------------------------------------
# Copyright (c) 2020-2021, SkillerRaptor <skillerraptor@protonmail.com>
#
# SPDX-License-Identifier: MIT
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
# CMake Info
#-------------------------------------------------------------------------------------------
cmake_minimum_required(VERSION 3.10)

#-------------------------------------------------------------------------------------------
# Dependencies
#-------------------------------------------------------------------------------------------

#-------------------------------------------------------------------------------------------
# OpenGL
#-------------------------------------------------------------------------------------------
if (POLICY CMP0072)
    cmake_policy(SET CMP0072 NEW)
endif ()

find_package(OpenGL)
if (${OPENGL_FOUND})
    set(HYPERENGINE_BUILD_OPENGL ON)
else ()
    set(HYPERENGINE_BUILD_OPENGL OFF)
endif ()

#-------------------------------------------------------------------------------------------
# Vulkan
#-------------------------------------------------------------------------------------------
find_package(Vulkan)
if (${Vulkan_FOUND})
    set(HYPERENGINE_BUILD_VULKAN ON)
else ()
    set(HYPERENGINE_BUILD_VULKAN OFF)
endif ()

#-------------------------------------------------------------------------------------------
# Core Module
#-------------------------------------------------------------------------------------------
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperCore)

#-------------------------------------------------------------------------------------------
# Support Modules
#-------------------------------------------------------------------------------------------
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperPlatform)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperMath)

#-------------------------------------------------------------------------------------------
# Abstraction Modules
#-------------------------------------------------------------------------------------------
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperRendering)
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperResource)

#-------------------------------------------------------------------------------------------
# Engine
#-------------------------------------------------------------------------------------------
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperEngine)

#-------------------------------------------------------------------------------------------
# Test Module
#-------------------------------------------------------------------------------------------
add_subdirectory(${CMAKE_CURRENT_SOURCE_DIR}/HyperTests)
